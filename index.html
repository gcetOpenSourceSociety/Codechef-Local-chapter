<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Mobirise v4.8.10, mobirise.com">
  <link rel="shortcut icon" href="assets/images/codechef.png" type="image/x-icon">
  <meta name="description" content="Website Maker Description">
  <title>Codechef Campus Chapter of GCET</title>
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons-bold/mobirise-icons-bold.css">
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/soundcloud-plugin/style.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  <link rel="stylesheet" href="assets/dropdown/css/index.css" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0.0/jquery.counterup.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.3/waypoints.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script src="assets/theme/js/scripts.js"></script>
</head>

<body>
  <!--    HEADER section    -->
  <div class="topnav" id="myTopnav">
    <img class="logo" src="assets/images/codechef2.png" alt="SkillUpGCET">
    <a href="#">Login</a>
    <a href="#team">Team</a>
    <a href="#">Contact</a>
    <a href="#">About</a>
    <a href="#">Events</a>
    <a href="#" class="active">Home</a>
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
      <i class="fa fa-bars"></i>
    </a>
  </div>

  <!-- -->
  <br>
  <br>
  <div class="row" id="uc1">
    <div class="col-sm-4">
      <h3><u><b>Upcoming Contest</b></u></h3>
    </div>
    <div class="col-sm-4">
      <h3><u><b>Ongoing Contest</b></u></h3>
    </div>
    <div class="col-sm-4">
      <h3><u><b>Leaderboard</b></u></h3>
    </div>
  </div>
  <div class="row" id="uc2">
    <div class="col-sm-4"><u><a id="upcomCont" href="" style="font-size:1.5em;"></a></u></div>
    <div class="col-sm-4"><u><a id="ongoCont" href="" style="font-size:1.5em;"></a></u></div>
    <div class="col-sm-4"><u><a id="lastCont" href="" style="font-size:1.5em;"></a></u></div>
  </div>
  <div class="row" id="uc3">
    <div class="col-sm-4">
      <span id="demo"></span>
    </div>
    <div class="col-sm-4">
      <span id="demo"></span>
    </div>
  </div>
  <div class="row" id="uc4">
    <div class="col-sm-4">
      <div id="clockdiv1">
        <div>
          <span class="days"></span>
          <div class="smalltext">Days</div>
        </div>
        <div>
          <span class="hours"></span>
          <div class="smalltext">Hours</div>
        </div>
        <div>
          <span class="minutes"></span>
          <div class="smalltext">Minutes</div>
        </div>
        <div>
          <span class="seconds"></span>
          <div class="smalltext">Seconds</div>
        </div>
      </div>
    </div>

    <div class="col-sm-4">
      <div id="clockdiv2">
        <div>
          <span class="days"></span>
          <div class="smalltext">Days</div>
        </div>
        <div>
          <span class="hours"></span>
          <div class="smalltext">Hours</div>
        </div>
        <div>
          <span class="minutes"></span>
          <div class="smalltext">Minutes</div>
        </div>
        <div>
          <span class="seconds"></span>
          <div class="smalltext">Seconds</div>
        </div>
      </div>
    </div>

    <div class="col-sm-2">
      <div class="leaderboard_div1">
        <div style="text-align: justify;">
          <h4>Div 1</h4>
        </div>
        <div class="names">
          <span class="name1"></span>
        </div>
        <div class="names">
          <span class="name2"></span>
        </div>
        <div class="names">
          <span class="name3"></span>
        </div>
      </div>
    </div>
    <div class="col-sm-2">
      <div class="leaderboard_div2">
        <div style="text-align: justify;">
          <h4>Div 2</h4>
        </div>
        <div class="names">
          <span class="name4"></span>
        </div>
        <div class="names">
          <span class="name5"></span>
        </div>
        <div class="names">
          <span class="name6"></span>
        </div>
      </div>
    </div>
  </div>

      <!--    DIVIDER    -->
      <div class="newLine">
        <span id="nl" class="top right"></span>
        <span id="nl" class="top left"></span>
        <h2 id="close">&lt; / &gt;</h2>
        <span id="nl" class="bottom right"></span>
        <span id="nl" class="bottom left"></span>
      </div>

      <section id="statistic" class="statistic-section one-page-section">
        <div class="container">
          <div class="row text-center">
            <div class="col-xs-12 col-md-3">
              <div class="counter">
                <i class="fa fa-clock-o fa-2x stats-icon"></i>
                <h2 class="timer count-title count-number">6</h2>
                <div class="stats-line-black"></div>
                <p class="stats-text">Years</p>
              </div>
            </div>
            <div class="col-xs-12 col-md-3">
              <div class="counter">
                <i class="fa fa-code fa-2x stats-icon"></i>
                <h2 class="timer count-title count-number">13</h2>
                <div class="stats-line-black"></div>
                <p class="stats-text">Programming competitions</p>
              </div>
            </div>
            <div class="col-xs-12 col-md-3">
              <div class="counter">
                <i class="fa fa-graduation-cap fa-2x stats-icon"></i>
                <h2></h2>
                <h2></h2>
                <h2 class="timer count-title count-number" style="display:inline">400</h2>
                <h2 class="count-title" style="display:inline">+</h2>
                <div class="stats-line-black"></div>
                <p class="stats-text">Students</p>
              </div>
            </div>
            <div class="col-xs-12 col-md-3">
              <div class="counter">
                <i class="fa fa-laptop fa-2x stats-icon"></i>
                <h2 class="timer count-title count-number">2
                </h2>
                <div class="stats-line-black"></div>
                <p class="stats-text">Teams took part in ACM ICPC</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!--    DIVIDER    -->
      <div class="newLine">
        <span id="nl" class="top right"></span>
        <span id="nl" class="top left"></span>
        <h2 id="close">&lt; / &gt;</h2>
        <span id="nl" class="bottom right"></span>
        <span id="nl" class="bottom left"></span>
      </div>

      <div class="footer">
        <span id="foot">
          Made &nbsp;with &nbsp;<i class="fa fa-heart pulse"></i> &nbsp;by &nbsp;<b>GCETians</b>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          Copyright Codechef Local Chapter 2022 Â©
        </span>
      </div>

</body>
<script>
    var today = new Date();
  var upcomingUrl = 'https://clist.by/api/v2/contest/?limit=100&event__iregex=Lunchtime%7CCook-Off%7CChallenge&order_by=start&host=codechef.com&start__gt=' + today.toISOString() + '&username=imdhruvit&api_key=40eceee00b594b87af0fe8da970b58894b9c5a30';
  var ongoingUrl = 'https://clist.by/api/v2/contest/?limit=100&host=codechef.com&event__iregex=Lunchtime%7CCook-Off%7CChallenge&start__lt=' + today.toISOString() + '&end__gt=' + today.toISOString() + '&order_by=-start&username=imdhruvit&api_key=40eceee00b594b87af0fe8da970b58894b9c5a30';

  var proxy = 'https://cors-anywhere.herokuapp.com/';

  var upcomingFinalURL = proxy + upcomingUrl;
  var ongoingFinalURL = proxy + ongoingUrl;
  var upcomingContest = [];
  var ongoingContest = [];
  var upcoming, ongoing, lastContest, lastUrl;
  console.log(today.toISOString());
  $.getJSON(upcomingFinalURL, function(data) {
      if(data.objects){
        upcomingContest = data.objects[0];
      }
      console.log(upcomingContest);
      upcoming = upcomingContest;
      document.getElementById("upcomCont").href = upcoming.href;
    document.getElementById("upcomCont").innerHTML = upcoming.event;
    var deadline1 = new Date(Date.parse(new Date()) + (new Date(upcoming.start).getTime() - new Date().getTime()));
    initializeClock('clockdiv1', deadline1);
  });
    $.getJSON(ongoingFinalURL, function(data) {
        if(data.objects){
            ongoingContest = data.objects[0];
      }
    });
    console.log(upcomingContest);
    upcoming = upcomingContest;
    ongoing = ongoingContest;
    var s = new Date(ongoing.start);
    var lastEvent = new Date(s.getFullYear(), s.getMonth() - 1);
    var month = new Array();
    month[0] = "January";
    month[1] = "February";
    month[2] = "March";
    month[3] = "April";
    month[4] = "May";
    month[5] = "June";
    month[6] = "July";
    month[7] = "August";
    month[8] = "September";
    month[9] = "October";
    month[10] = "November";
    month[11] = "December";
    var lastEventName;
    for (i = 0; i < events.length; i++) {
      if (ongoing.title.includes(events[i])) {
        if (i == 0) {
          lastEventName = events[2];
        } else {
          lastEventName = events[i--];
        }
        break;
      }
    }
    var query = month[lastEvent.getMonth()].toLowerCase() + "-" + lastEventName.toLowerCase() + "-" + lastEvent.getFullYear();
    lastUrl = "https://clist.by/standings/" + query + "/?division=div_1&detail=on&institution=G+H+Patel+College+of+Engineering+and+Technology&rating=";
    var div2_url = "https://clist.by/standings/" + query + "/?division=div_2&detail=on&institution=G+H+Patel+College+of+Engineering+and+Technology&rating=";
    document.getElementById("upcomCont").href = upcoming.url;
    document.getElementById("upcomCont").innerHTML = upcoming.title;
    var deadline1 = new Date(Date.parse(new Date()) + (new Date(upcoming.start).getTime() - new Date().getTime()));
    initializeClock('clockdiv1', deadline1);
    document.getElementById("ongoCont").href = ongoing.url;
    document.getElementById("ongoCont").innerHTML = ongoing.title;
    document.getElementById("lastCont").innerHTML = month[lastEvent.getMonth()] + " " + lastEventName + " " + lastEvent.getFullYear();
    var deadline2 = new Date(Date.parse(new Date()) + (new Date(ongoing.end).getTime() - new Date().getTime()));
    initializeClock('clockdiv2', deadline2);

    var myUrl = lastUrl;
    doCORSRequest({
      method: 'get',
      url: myUrl,
    }, function printResult(result) {
      parser = new DOMParser();
      doc = parser.parseFromString(result, "text/html")
      var collection = doc.getElementsByClassName("handle-div");
      var board = document.getElementsByClassName("leaderboard_div1")[0];
      for (let i = 0; i < collection.length; i++) {
        var name = board.querySelector('.name'+String(i+1));
        if(i==0){
          name.innerHTML = "ðŸ¥‡ " + collection[i].childNodes[1].childNodes[1].title;
        }
        else if (i==1) {
          name.innerHTML = "ðŸ¥ˆ " + collection[i].childNodes[1].childNodes[1].title;
        }
        else {
          name.innerHTML = "ðŸ¥‰ " + collection[i].childNodes[1].childNodes[1].title;
        }
        name.setAttribute('href', 'https://www.codechef.com/users/'+collection[i].childNodes[1].childNodes[1].innerHTML);
      }
    });

    var myUrl = div2_url;
    doCORSRequest({
      method: 'get',
      url: myUrl,
    }, function printResult(result) {
      parser = new DOMParser();
      doc = parser.parseFromString(result, "text/html")
      var collection = doc.getElementsByClassName("handle-div");
      var board = document.getElementsByClassName("leaderboard_div2")[0];
      for (let i = 0; i < collection.length; i++) {
        var name = board.querySelector('.name'+String(i+4));
        if(i==0){
          name.innerHTML = "ðŸ¥‡ " + collection[i].childNodes[1].childNodes[1].title;
        }
        else if (i==1) {
          name.innerHTML = "ðŸ¥ˆ " + collection[i].childNodes[1].childNodes[1].title;
        }
        else {
          name.innerHTML = "ðŸ¥‰ " + collection[i].childNodes[1].childNodes[1].title;
        }
      }
    });

  function doCORSRequest(options, printResult) {
    var cors_api_url = 'https://cors-anywhere.herokuapp.com/';
    var x = new XMLHttpRequest();
    x.open(options.method, cors_api_url + options.url);
    x.onload = x.onerror = function() {
      printResult(
        options.method + ' ' + options.url + '\n' +
        x.status + ' ' + x.statusText + '\n\n' +
        (x.responseText || '')
      );
    };
    if (/^POST/i.test(options.method)) {
      x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    }
    x.send(options.data);
  }

  //var countDownDate = new Date("Oct 20, 2019 21:30:00").getTime();
  function getTimeRemaining(endtime) {
    var t = Date.parse(endtime) - Date.parse(new Date());
    var seconds = Math.floor((t / 1000) % 60);
    var minutes = Math.floor((t / 1000 / 60) % 60);
    var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
    var days = Math.floor(t / (1000 * 60 * 60 * 24));
    return {
      'total': t,
      'days': days,
      'hours': hours,
      'minutes': minutes,
      'seconds': seconds
    };
  }

  function initializeClock(id, endtime) {
    var clock = document.getElementById(id);
    var daysSpan = clock.querySelector('.days');
    var hoursSpan = clock.querySelector('.hours');
    var minutesSpan = clock.querySelector('.minutes');
    var secondsSpan = clock.querySelector('.seconds');

    function updateClock() {
      var t = getTimeRemaining(endtime);

      daysSpan.innerHTML = t.days;
      hoursSpan.innerHTML = ('0' + t.hours).slice(-2);
      minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
      secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);

      if (t.total <= 0) {
        clearInterval(timeinterval);
      }
    }

    updateClock();
    var timeinterval = setInterval(updateClock, 1000);
  }
</script>

<!--    script for navBar starts    -->
<script>
  function myFunction() {
    var x = document.getElementById("myTopnav");
    if (x.className === "topnav") {
      x.className += " responsive";
    } else {
      x.className = "topnav";
    }
  }
</script>
<!--  script for navBar ends  -->

</html>
